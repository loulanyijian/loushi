<!DOCTYPE html>
<html>

<head>
    <title>房价走势-黄岛二手房</title>
    <link rel="stylesheet" href="//css.letvcdn.com/lc07_lecloud/201611/14/13/41/style.min.css">
    <link rel="stylesheet" type="text/css" href="./css/main.css">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"/>
    <style>
        html{
            padding: 20px
        }
        a,a:hover,a:link{
            text-decoration: none;
            color:green;
            font-weight: bold;
        }
        .red,.zhang{
            color: red;font-weight: bolder;
        }
        .die{
            color: green;font-weight: bolder;
        }
        .back{
            padding: 20px;position: fixed;
        }
        .star{
            color: red !important;
        }
        .img{
            width: 120px;height: 80px;
        }
    </style>
</head>

<body>
    <div id="app">
        <div v-if='showType == 0'>
            <div>
                <input type="text" placeholder='请输入楼盘名称' v-model.trim='searchKey'>
                <input readonly type="text" id="d1" tabindex="-1" class="common-input-style laydate-icon"
                   onFocus="WdatePicker({dateFmt:'yyyy-MM-dd',minDate:'2017-04-05',maxDate:'%y-%M-%d'})">
            </div>

        	<table cellpadding="0" cellspacing="0">
        		<tr>
        			<th>楼盘</th>
        			<th>套数</th>
        			<th>参考均价</th>
                    <th>最低总价格</th>
                    <th>详情</th>
        		</tr>
        		<template v-for="(i, index) in mainList" v-if="i.name.indexOf(searchKey) > -1">
        			<tr>
                        <td>
                            <a 
                                :href="'http://qd.lianjia.com/ershoufang/co22rs'+i.name" 
                                target="blank"
                                :class="{'star':guanzhuList.indexOf(i.name) > -1}">{{i.name}}</a>
                        </td>
                        <td>{{i.house_count}}</td>
                        <td>{{i.avg_unit_price}} 元/m²</td>
                        <td>{{i.min_price_total}} 万元</td>
                        <td>
                            <a href="javascript:void(0)" @click='showPan(i.id)'>查看</a>
                        </td>
        			</tr>
        		</template>
        	</table>
        </div>
        <div v-if='showType == 1'>
            <button @click='showType = 0' class='back'>返回</button>
            <table cellpadding="0" cellspacing="0">
                <tr>
                    <th>标题</th>
                    <th>户型</th>
                    <th>建筑面积</th>
                    <th>总价格</th>
                    <th>朝向</th>
                    <th>上架日期</th>
                    <th>满五唯一</th>
                    <th>学区信息</th>
                    <th>涨幅信息</th>
                    <th>封面图</th>
                </tr>
                <template v-for="(i, index) in louList.list">
                    <tr>
                        <td>
                            <a 
                                :href="'http://qd.lianjia.com/ershoufang/'+i.house_code+'.html'" 
                                target="blank"
                                >
                                {{i.title}}
                            </a>
                        </td>
                        <td>{{i.frame_bedroom_num}} 室 {{i.frame_hall_num}} 厅</td>
                        <td>{{i.house_area}} 平</td>
                        <td>{{i.price_total}} 万元</td>
                        <td>{{i.frame_orientation}}</td>
                        <td>{{i.ctime}}</td>
                        <td>
                            <span v-for='(i,index) in i.is_two_five' v-if='index >0'>
                                {{i}}
                            </span>
                        </td>
                        <td>{{i.school | getSchool}}</td>
                        <td>
                            <div v-for='j in i.house_price_history'>
                                <div>{{j.ctime}}</div>
                                <div :class="{'zhang':j.old_price*1 < j.new_price*1,'die':j.old_price*1 > j.new_price*1}">{{j.old_price}} - {{j.new_price}}</div>
                            </div>
                        </td>
                        <td>
                            <img :src="i.list_picture_url" class="img" alt="">
                        </td>
                    </tr>
                </template>
            </table>
        </div>
    </div>
    <script type="text/javascript" src='./js/vue.js'></script>
    <script src="//js.letvcdn.com/lc07_lecloud/201704/10/10/06/WdatePicker.js"></script>
    <script src="./js/axios.js"></script>
    <script type="text/javascript" src='./js/util.js'></script>
    <script type="text/javascript" src='./js/qdErshou.js'></script>
</body>

</html>
